{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","hooks/useFetch.js","pages/create/Create.js","components/RecipeList.js","pages/home/Home.js","pages/recipe/Recipe.js","pages/search/Search.js","components/Searchbar.js","components/Navbar.js","images/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","mode","payload","ThemeProvider","children","useReducer","dispatch","Provider","value","changeMode","useTheme","context","useContext","undefined","Error","useFetch","url","method","useState","data","setData","isLoading","setisLoading","error","setError","options","setOptions","postData","headers","body","JSON","stringify","useEffect","controller","AbortController","fetchData","fetchOptions","a","fetch","signal","res","ok","statusText","json","name","console","log","abort","Create","title","setTitle","setMethod","cookingTime","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","history","useHistory","push","className","onSubmit","e","preventDefault","onChange","target","required","ref","onClick","ing","trim","includes","prevIngredients","current","focus","map","RecipeList","recipes","length","recipe","substring","to","id","Home","Recipe","useParams","i","Search","queryString","useLocation","search","query","URLSearchParams","get","Searchbar","input","setInput","htmlFor","Navbar","ThemeSelector","src","modeIcon","style","filter","alt","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4828210.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react';\n\nexport const ThemeContext = createContext()\n\nconst themeReducer = (state, action) => {\n    switch (action.type) {\n        case 'CHANGE_MODE':\n            return { ...state, mode: action.payload }\n        default:\n            return state\n    }\n}\n\nexport function ThemeProvider({ children }) {\n    const [state, dispatch] = useReducer(themeReducer, {\n        mode: 'dark'\n    })\n    const changeMode = (mode) => {\n        dispatch({ type: 'CHANGE_MODE', payload: mode })\n    }\n    return (\n        <ThemeContext.Provider value={{ ...state, changeMode }}>\n            {children}\n        </ThemeContext.Provider>\n    )\n}","import { useContext } from 'react';\nimport { ThemeContext } from '../context/ThemeContext';\n\nexport const useTheme = () => {\n    const context = useContext(ThemeContext)\n    if (context === undefined) {\n        throw new Error('useTheme() must be used inside a ThemeProvider')\n    }\n    return context\n}","import { useState, useEffect } from 'react';\n\nexport const useFetch = (url, method = 'GET') => {\n    const [data, setData] = useState(null)\n    const [isLoading, setisLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const [options, setOptions] = useState(null)\n\n    const postData = (postData) => {\n        setOptions({\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(postData) // turn js object into a json string for posting\n        })\n    }\n    useEffect(() => {\n        const controller = new AbortController()\n        const fetchData = async (fetchOptions) => {\n            setisLoading(true)\n            try {\n                const res = await fetch(url, { ...fetchOptions, signal: controller.signal })\n                if (!res.ok) {\n                    throw new Error(res.statusText)\n                }\n                const data = await res.json()\n                setisLoading(false)\n                setData(data)\n                setError(null)\n            }\n            catch (e) {\n                if (e.name === 'AbortError') {\n                    console.log('the fetch was aborted')\n                }\n                else {\n                    setisLoading(false)\n                    setError('failed to fetch the data')\n                }\n            }\n        }\n        if (method === 'GET') {\n            fetchData()\n        }\n        if (method === 'POST' && options) {\n            fetchData(options)\n        }\n        return () => { controller.abort() }\n    }, [url, method, options])\n\n    return { data, isLoading, error, postData }\n}\n","import { useState, useRef, useEffect } from 'react'\nimport { useFetch } from '../../hooks/useFetch'\nimport { useHistory } from 'react-router-dom'\nimport './Create.css'\n\nexport default function Create() {\n  const [title, setTitle] = useState('')\n  const [method, setMethod] = useState('')\n  const [cookingTime, setCookingTime] = useState('')\n  const [newIngredient, setNewIngredient] = useState('')\n  const [ingredients, setIngredients] = useState([])\n  \n  const ingredientInput = useRef(null)\n  const history = useHistory()\n  const {postData, data, error} = useFetch('http://localhost:3000/recipes','POST')\n  \n  const submitHandler = (e) => {\n    e.preventDefault()\n    postData({title, ingredients, method, cookingTime: cookingTime+' minutes'})\n  }\n  \n  const addHandler = (e) => {\n    e.preventDefault()\n    const ing = newIngredient.trim()\n    if (ing && !ingredients.includes(ing)) {\n      setIngredients(prevIngredients => [...prevIngredients, newIngredient])\n    }\n    setNewIngredient('')\n    ingredientInput.current.focus()\n  }\n\n  useEffect(() => {\n    if (data) {\n      history.push('/')\n    }\n  }, [data, history])\n  \n  return (\n    <div className=\"create\">\n      <h2 className='page-title'>Add a New Recipe</h2>\n\n      <form onSubmit={submitHandler}>\n        <label>\n          <span>Recipe title:</span>\n          <input type='text' onChange={(e) => setTitle(e.target.value)} value={title} required />\n        </label>\n\n        <label>\n          <span>Recipe Ingredients:</span>\n          <div className='ingredients:'>\n            <input type='text' onChange={(e) => setNewIngredient(e.target.value)} value={newIngredient} ref={ingredientInput} />\n            <button onClick={addHandler} className='btn'>add</button>\n          </div>\n        </label>\n        <p>Current ingredients: {ingredients.map(ing => <em key={ing}>{ing}, </em>)}</p>\n\n        <label>\n          <span>Recipe Method:</span>\n          <input type='text' onChange={(e) => setMethod(e.target.value)} value={method} required />\n        </label>\n\n        <label>\n          <span>Cooking time (minutes):</span>\n          <input type='number' onChange={(e) => setCookingTime(e.target.value)} value={cookingTime} required />\n        </label>\n\n        <button className=\"btn\">submit</button>\n      </form>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport { useTheme } from '../hooks/useTheme'\nimport './RecipeList.css'\n\nexport default function RecipeList({ recipes }) {\n  const { mode } = useTheme()\n  if (recipes.length === 0) {\n    return <div className={`error ${mode}`}>No recipes to load ...</div>\n  }\n  return (\n    <div className='recipe-list'>\n      {recipes.map(recipe => (\n        <div key={recipe.id} className={`card ${mode}`}>\n          <h3>{recipe.title}</h3>\n          <p>{recipe.cookingTime} to make</p>\n          <div>{recipe.method.substring(0, 95)}...</div>\n          <Link to={`/recipes/${recipe.id}`}>Cook This</Link>\n        </div>\n      ))}\n    </div>\n  )\n}\n","import {useFetch} from '../../hooks/useFetch'\nimport RecipeList from '../../components/RecipeList'\nimport './Home.css'\n\nexport default function Home() {\n  const {data, isLoading, error} = useFetch(\"http://localhost:3000/recipes\")\n  return (\n    <div className=\"home\">\n      {error && <p className=\"error\">{error}</p>}\n      {isLoading && <p className=\"loading\">Loading...</p>}\n      {data && <RecipeList recipes={data} />}\n    </div>\n  )\n}\n","import { useParams } from 'react-router-dom'\n\nimport './Recipe.css'\nimport { useFetch } from '../../hooks/useFetch'\nimport { useTheme } from '../../hooks/useTheme'\n\nexport default function Recipe() {\n\n  const {id} = useParams()\n  const url = 'http://localhost:3000/recipes/' + id\n  const {error, isLoading, data} = useFetch(url)\n  const {mode} = useTheme()\n  \n  return (\n    <div className={`recipe ${mode}`}>\n      {error && <p className='error'>{error}</p>}\n      {isLoading && <p className='loading'>Loading...</p>}\n      {data && (\n        <>\n        <h2>{data.title}</h2>\n        <p className='prep'>Takes {data.cookingTime} to cook.</p>\n        <ul className='prep'>\n          {data.ingredients.map(i => <li key={i}>{i}</li>)}\n        </ul>\n        <p className=\"method\">{data.method}</p>\n        </>\n      )}\n    </div>\n  )\n}\n","import { useLocation } from 'react-router-dom'\nimport { useFetch } from '../../hooks/useFetch'\nimport RecipeList from '../../components/RecipeList'\nimport { useTheme } from '../../hooks/useTheme'\nimport './Search.css'\n\nexport default function Search() {\n\n  const queryString = useLocation().search\n  const queryParams = new URLSearchParams(queryString)\n  const query = queryParams.get('q')\n  const url = 'http://localhost:3000/recipes?q=' + query\n  const{error, isLoading, data} = useFetch(url)\n  const {mode} = useTheme()\n\n  return (\n    <div className={`search-result ${mode}`}>\n      <h3>Recipes including \"{query}\"</h3>\n      {error && <p className='error'>{error}</p>}\n      {isLoading && <p className='loading'>Loading...</p>}\n      {data && <RecipeList recipes={data} />}\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './Searchbar.css'\n\nexport default function Searchbar() {\n    const [input, setInput] = useState('')\n    const history = useHistory()\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        history.push(`/search?q=${input}`) // query\n    }\n    return (\n        <div className='searchbar'>\n            <form onSubmit={submitHandler}>\n                <label htmlFor='search'>Search:</label>\n                <input required type='text' id='search' onChange={(e) => setInput(e.target.value)} />\n            </form>\n        </div>\n    )\n}","import { Link } from 'react-router-dom'\nimport Searchbar from './Searchbar'\nimport './Navbar.css'\n\nexport default function Navbar() {\n  return (\n    <div className='navbar'>\n      <nav>\n        <Link to='/' className='title'>\n          <h1>Recipeee</h1>\n        </Link>\n        <Searchbar />\n        <Link to='/create'>Create Recipe</Link>\n      </nav>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/mode-icon.651cf792.svg\";","import { useTheme } from '../hooks/useTheme'\nimport modeIcon from '../images/mode-icon.svg'\nimport './ThemeSelector.css'\n\nexport default function ThemeSelector() {\n    const { changeMode, mode } = useTheme()\n\n    const toggleMode = () => {\n        changeMode(mode === 'dark' ? 'light' : 'dark')\n    }\n\n    return (\n        <div className='theme-selector'>\n            <div className='mode-toggle'>\n                <img\n                    onClick={toggleMode}\n                    src={modeIcon}\n                    style={{ filter: mode === 'dark' ? 'invert(100%)' : 'invert(20%)' }}\n                    alt='dark/light mode toggle icon' />\n            </div>\n        </div>\n    )\n}","import './App.css'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { useTheme } from './hooks/useTheme'\nimport Create from './pages/create/Create'\nimport Home from './pages/home/Home'\nimport Recipe from './pages/recipe/Recipe'\nimport Search from './pages/search/Search'\nimport Navbar from './components/Navbar'\nimport ThemeSelector from './components/ThemeSelector'\n\n\nfunction App() {\n  const { mode } = useTheme()\n  return (\n    <div className={`App ${mode}`}>\n      <BrowserRouter>\n        <Navbar />\n        <ThemeSelector />\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          <Route path='/create'>\n            <Create />\n          </Route>\n          <Route path='/search'>\n            <Search />\n          </Route>\n          <Route path='/recipes/:id'>\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ThemeProvider } from './context/ThemeContext'\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}